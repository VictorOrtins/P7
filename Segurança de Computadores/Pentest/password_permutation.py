### Based on http://www.cs.unibo.it/~sacerdot/doc/papers/Klein--PasswordSecuritySurvey.pdf
import os
import inflect


with open(os.path.join('database', 'myspace.txt')) as file:
    lines = file.readlines()
    lines = [line.removesuffix('\n') for line in lines]

inflect_object = inflect.engine()

new_lines = []
for line in lines:
    upper_case_line = line.replace(line[0], line[0].upper(), 1)   
    new_lines.append(upper_case_line)

    reverse_line = line[::-1]
    new_lines.append(reverse_line)

    upper_case_reversed = upper_case_line[::-1]
    new_lines.append(upper_case_reversed)

    change_letters_line = line.replace("o", "0").replace("O", "0").replace("l", "1").replace("z", "2").replace("s", "5").replace("S", "5")
    new_lines.append(change_letters_line)

    plural_line = inflect_object.plural(line)
    new_lines.append(plural_line)

    for i in range(len(line)):
        new_line = line[:i] + line[i].upper() + line[i + 1:]
        new_lines.append(new_line)


with open(os.path.join("database", "permutation.txt"), "w") as file:
    for line in new_lines:
        file.write(line + "\n")




